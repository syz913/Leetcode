### 题目描述

初始时有 *n* 个灯泡关闭。 第 1 轮，你打开所有的灯泡。 第 2 轮，每两个灯泡你关闭一次。 第 3 轮，每三个灯泡切换一次开关（如果关闭则开启，如果开启则关闭）。第 *i* 轮，每 *i* 个灯泡切换一次开关。 对于第 *n* 轮，你只切换最后一个灯泡的开关。 找出 *n* 轮后有多少个亮着的灯泡。

### 示例

**示例:**

```C++
输入: 3
输出: 1 
解释: 
初始时, 灯泡状态 [关闭, 关闭, 关闭].
第一轮后, 灯泡状态 [开启, 开启, 开启].
第二轮后, 灯泡状态 [开启, 关闭, 开启].
第三轮后, 灯泡状态 [开启, 关闭, 关闭]. 

你应该返回 1，因为只有一个灯泡还亮着。
```

### 思路

这个就比较容易去想了，看一个灯泡是否还亮着，只要它被开关了奇数次就好了，我们看一下灯泡的开关操作：

- 第 1 轮，每个灯泡都开关一次，也就是能整除 1 的都开关一次
- 第 2 轮，每两个灯泡开关一次，也就是能整除 2 的都开关一次

   ...

- 以此类推，第 i 轮操作的灯泡必须是能够整除 i 的

那么我们遍历一遍观察有哪些灯泡被操作了奇数次就好了。我们思考一下每个数字的因子：

比如普通数字 15：1 3 5 15，8：1 2 4 8

完全平方数 16：1 4 4 16

所以只有完全平方数能够满足被操作奇数次，其实很容易理解为什么非完全平方数字有偶数个因子

首先每个数字 $num = \sqrt{num}*\sqrt{num}$，并且一定有因子 1 和 num

因为 $\sqrt{num}$ 不为整数，那么其余因子肯定是小于  $\sqrt{num}$  和大于  $\sqrt{num}$  的组合，所以有偶数个。

最后问题演变为求 1~n 完全平方数的个数，1 * 1、2 * 2、...、$\sqrt{n} * \sqrt{n}$，有 $\sqrt{n}$ 个 

```C++
class Solution {
public:
    int bulbSwitch(int n) {
        return sqrt(n);
    }
};
```

