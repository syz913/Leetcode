> 题目描述：实现 int sqrt(int x) 函数。
>
> 计算并返回 x 的平方根，其中 x 是非负整数。
>
> 由于返回类型是整数，结果只保留整数的部分，小数部分将被舍去。
>

eg:

```java
示例 1:

输入: 4
输出: 2
示例 2:

输入: 8
输出: 2
说明: 8 的平方根是 2.82842..., 
     由于返回类型是整数，小数部分将被舍去。
```

> 思路描述：最简单的方法就是从 1 遍历到 x，遇到第一个 (i+1)*(i+1) > x 的时候就返回 i，但是这样可能会溢出，所以我们稍微改变一下形式，\(i+1)\*(i+1) > x => x - i\*i < 2\*i + 1，时间复杂度为 lg(x)

```C++
class Solution {
public:
    int mySqrt(int x) {
        if(x == 1) return 1;
        for(int i = 0; i <= x; i ++){
            if(x - i*i < 2*i + 1) return i;
        }
        return 0;
    }
};
```

> 我们还可以采用二分法

```C++
class Solution {
public:
    int mySqrt(int x) {
        int l = 0, r = x, ans = -1;
        while (l <= r) {
            int mid = (l + r) / 2;
            if ((long long)mid * mid <= x) {
                ans = mid;
                l = mid + 1;
            }
            else {
                r = mid - 1;
            }
        }
        return ans;
    }
};
```

> 前面两种方法都是很容易想到的，在官方题解那里又学到牛顿迭代法，

$y=f(x)=x^2-C$，那么方程的解就是 $\sqrt{C}$

牛顿迭代法其实是一个收敛的过程，就是不断在 $x_n$ 做切线得出新的点 $x_{n+1}$，最后会无限趋近于曲线的根，可以参考 [牛顿迭代法wiki](https://zh.wikipedia.org/wiki/牛顿法)， 对于曲线方程 $f(x)$，我们在 $x_n$ 点做切线，那么切线方程为$f(x_n)+f'(x_n)(x-x_n)$，对于上面的方程 $f'(x_n) = 2x_n$，那么切线方程为 $x_n^2 +C+ 2x_n(x-x_n) = 2xx_n-x_n^2 + C = 0$ 的解为 $x_{n+1}=\frac{1}{2}(x_n + \frac{C}{x_n})$

所以我们已经得出了迭代公式

```C++
class Solution {
public:
    int mySqrt(int x) {
        if (x == 0) {
            return 0;
        }
        double C = x, x0 = x;
        while (true) {
            double xi = 0.5 * (x0 + C / x0);
            if (fabs(x0 - xi) < 1e-7) {
                break;
            }
            x0 = xi;
        }
        return int(x0);
    }
};
```

